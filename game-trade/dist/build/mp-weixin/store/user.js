"use strict";var e=require("../common/vendor.js");const t=e.defineStore({id:"user",state:()=>({userInfo:{}}),actions:{async getUserInfo(){const t=e.pn.database();await t.collection("uni-id-users").field("_id,avatar_file,nickname,register_date").get({getOne:!0}).then((e=>{Object.assign(this.userInfo,e.result.data)})).catch((()=>{e.index.navigateTo({url:"/uni_modules/uni-id-pages/pages/login/login-withoutpwd?type=weixin"})}))}},getters:{userId:e=>e.userInfo._id}});exports.useUser=t;
