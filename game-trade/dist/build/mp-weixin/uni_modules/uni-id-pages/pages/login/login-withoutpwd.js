"use strict";var e=require("../../../../common/vendor.js"),i=require("../../config.js"),o=require("../../common/login-page.mixin.js");require("../../common/store.js");const n={mixins:[o.mixin],data:()=>({type:"",phone:"",focusPhone:!1,logo:"/static/logo.png"}),computed:{loginTypes:async()=>i.config.loginTypes,isPhone(){return/^1\d{10}$/.test(this.phone)},imgSrc(){return"/uni_modules/uni-id-pages/static/login/"+this.type+".png"}},async onLoad(o){console.log(o);let n=o.type||i.config.loginTypes[0];this.type=n,"univerify"!=n&&(this.focusPhone=!0),this.$nextTick((()=>{["weixin","apple"].includes(n)&&(this.$refs.uniFabLogin.servicesList=this.$refs.uniFabLogin.servicesList.filter((e=>e.id!=n)))})),e.index.$on("uni-id-pages-set-login-type",(e=>{this.type=e}))},onShow(){},onUnload(){e.index.$off("uni-id-pages-set-login-type")},onReady(){},methods:{quickLogin(e){var i,o;let n={};(null==(i=e.detail)?void 0:i.code)&&(n.phoneNumberCode=e.detail.code),("weixinMobile"!==this.type||(null==(o=e.detail)?void 0:o.code))&&this.$refs.uniFabLogin.login_before(this.type,!0,n)},toSmsPage(){return console.log("toSmsPage",this.agree),this.isPhone?this.needAgreements&&!this.agree?this.$refs.agreements.popup(this.toSmsPage):void e.index.navigateTo({url:"/uni_modules/uni-id-pages/pages/login/login-smscode?phoneNumber="+this.phone}):(this.focusPhone=!0,e.index.showToast({title:"手机号码格式不正确",icon:"none"}))},toPwdLogin(){e.index.navigateTo({url:"../login/password"})},chooseArea(){e.index.showToast({title:"暂不支持其他国家",icon:"none"})}}};if(!Array){(e.resolveComponent("uni-id-pages-agreements")+e.resolveComponent("uni-easyinput")+e.resolveComponent("uni-id-pages-fab-login"))()}Math||((()=>"../../components/uni-id-pages-agreements/uni-id-pages-agreements.js")+(()=>"../../../uni-easyinput/components/uni-easyinput/uni-easyinput.js")+(()=>"../../components/uni-id-pages-fab-login/uni-id-pages-fab-login.js"))();var s=e._export_sfc(n,[["render",function(i,o,n,s,t,a){return e.e({a:t.logo,b:["apple","weixin","weixinMobile"].includes(t.type)},["apple","weixin","weixinMobile"].includes(t.type)?e.e({c:"weixinMobile"!==t.type},"weixinMobile"!==t.type?{d:e.o(((...e)=>a.quickLogin&&a.quickLogin(...e))),e:a.imgSrc}:{f:e.o(((...e)=>a.quickLogin&&a.quickLogin(...e)))},{g:e.sr("agreements","86ce5ef0-0"),h:e.p({scope:"register"})}):{i:e.o(((...e)=>a.chooseArea&&a.chooseArea(...e))),j:e.o((e=>t.focusPhone=!1)),k:e.o((e=>t.phone=e)),l:e.p({focus:t.focusPhone,type:"number",inputBorder:!1,maxlength:"11",placeholder:"请输入手机号",modelValue:t.phone}),m:e.sr("agreements","86ce5ef0-2"),n:e.p({scope:"register"}),o:e.o(((...e)=>a.toSmsPage&&a.toSmsPage(...e)))},{p:e.sr("uniFabLogin","86ce5ef0-3")})}],["__scopeId","data-v-86ce5ef0"]]);wx.createPage(s);
